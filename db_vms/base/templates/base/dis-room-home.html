{% extends "main.html" %}


{% load static %}

<link rel="preconnect" href="https://fonts.gstatic.com">
<link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:300,400,500,600,700,800,900&amp;display=swap"
    rel="stylesheet">
<link href="{% static 'vendors/overlayscrollbars/OverlayScrollbars.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/theme.css' %}" rel="stylesheet" id="style-default">
<link href="{% static 'assets/css/user.css' %}" rel="stylesheet" id="user-style-default">
{% block content %}
<!-- <h5>Discussion Room Home</h5> -->

<div class="card mb-3 rounded-3" style="height: 7rem; justify-content: center; background-color: #197056;">

    <div class="row flex-between-end mx-2">
        <div class="col-auto align-self-center">
            <h2 class="mb-0" style="color: white">Discussion Room Home</h2>
        </div>
        <div class="col-auto ms-auto">
            <button class="btn btn-primary" type="button" data-bs-toggle="modal"
              data-bs-target="#add-discussion-room-modal">Create Discussion Room</button>
        </div>
    </div>
</div>

<!-- {% include '404.html' %} -->



<div class="row g-3">
{% for room in rooms %}

    <div class="col-4">
        <div class="card border border-success">
            <div class="card-header bg-light ps-card pe-5 border-bottom-0">
                <div>
                    <h5 class="modal-title mb-0">{{room.title}}</h5>
                    <p class="mb-0 fs--1 mt-1">
                        by @{{room.host}}
                    </p>
                </div>
            </div>
            <div class="card-body px-card pb-card pt-1 fs--1">

                <div class="d-flex mt-3">

                    <span class="fa-stack ms-n1 me-3">
                        <svg class="svg-inline--fa fa-circle fa-w-16 fa-stack-2x text-200" aria-hidden="true"
                            focusable="false" data-prefix="fas" data-icon="circle" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
                            <path fill="currentColor"
                                d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z">
                            </path>
                        </svg><!-- <i class="fas fa-circle fa-stack-2x text-200"></i> Font Awesome fontawesome.com -->
                        <svg class="svg-inline--fa fa-align-left fa-w-14 fa-stack-1x text-primary"
                            data-fa-transform="undefined" aria-hidden="true" focusable="false" data-prefix="fas"
                            data-icon="align-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
                            data-fa-i2svg="">
                            <path fill="currentColor"
                                d="M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z">
                            </path>
                        </svg>
                        <!-- <i class="fas fa-align-left fa-stack-1x text-primary" data-fa-transform="undefined"></i> Font Awesome fontawesome.com -->
                    </span>

                    <div class="flex-1">
                        <h6>Description</h6>
                        <p class="mb-0">

                            {{room.description|truncatechars:30}}
                        </p>
                    </div>
                </div>

                <div class="d-flex mt-3">

                    <span class="fa-stack ms-n1 me-3">
                        <svg class="svg-inline--fa fa-circle fa-w-16 fa-stack-2x text-200" aria-hidden="true"
                            focusable="false" data-prefix="fas" data-icon="circle" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
                            <path fill="currentColor"
                                d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z">
                            </path>
                        </svg><!-- <i class="fas fa-circle fa-stack-2x text-200"></i> Font Awesome fontawesome.com -->
                        <svg class="svg-inline--fa fa-calendar-check fa-w-14 fa-stack-1x text-primary"
                            data-fa-transform="undefined" aria-hidden="true" focusable="false" data-prefix="fas"
                            data-icon="calendar-check" role="img" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 448 512" data-fa-i2svg="">
                            <path fill="currentColor"
                                d="M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z">
                            </path>
                        </svg>
                        <!-- <i class="fas fa-calendar-check fa-stack-1x text-primary" data-fa-transform="undefined"></i> Font Awesome fontawesome.com -->
                    </span>

                    <div class="flex-1">
                        <h6>Date and Time</h6>
                        <p class="mb-1">
                            {{room.created_at}}
                        </p>
                    </div>
                </div>

                <!-- <div class="d-flex mt-3">

            <span class="fa-stack ms-n1 me-3">
                <svg class="svg-inline--fa fa-circle fa-w-16 fa-stack-2x text-200" aria-hidden="true" focusable="false"
                    data-prefix="fas" data-icon="circle" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512" data-fa-i2svg="">
                    <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z">
                    </path>
                </svg>
                <svg class="svg-inline--fa fa-map-marker-alt fa-w-12 fa-stack-1x text-primary"
                    data-fa-transform="undefined" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="map-marker-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z">
                    </path>
                </svg>
                
            </span>

            <div class="flex-1">
                <h6>Location</h6>
                <p class="mb-0">Boston Harborwalk, Christopher Columbus Park, <br> Boston, MA 02109, United States</p>
            </div>
        </div> -->


            </div>

            <div class="card-footer d-flex justify-content-end bg-light px-card border-top-0">
                <a href="file:///C:/Users/app/events/create-an-event.html" class="btn btn-falcon-default btn-sm">
                    <svg class="svg-inline--fa fa-pencil-alt fa-w-16 fs--2 mr-2" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="pencil-alt" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z">
                        </path>
                    </svg><!-- <span class="fas fa-pencil-alt fs--2 mr-2"></span> Font Awesome fontawesome.com --> Edit
                </a>
                <a href="/d-room-new/{{room.id}}" class="ms-1 btn btn-falcon-primary btn-sm">
                    Go To Room
                    <svg class="svg-inline--fa fa-angle-right fa-w-8 fs--2 ml-1" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="angle-right" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 256 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z">
                        </path>
                    </svg><!-- <span class="fas fa-angle-right fs--2 ml-1"></span> Font Awesome fontawesome.com -->
                </a>
            </div>
        </div>
    </div>
{% endfor %}
</div>


<div class="modal fade" id="add-discussion-room-modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 50rem">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
        </div>
        <form action="{% url 'add_room' %}" method="POST">
          {% csrf_token %}
          <div class="modal-body p-0">
            <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
              <h4 class="mb-0 txt-hbl" id="modalExampleDemoLabel"><span class="fas fa-comments me-3"></span>Add New Room
              </h4>
            </div>
            <div class="p-4 pb-0">
              <div class="row g-3">
                <div class="col-12">
                  <div class="mb-3">
                    <label class="form-label required" for="title">Room Title</label>
                    <input class="form-control" autocomplete="off" maxlength="150" id="title" name="title"
                      type="text" placeholder="Enter Room Title" required />
                  </div>
                </div>
                
              </div>
  
              <div class="row g-3">
                <div class="col-12">
                  <div class="mb-3">
                    <label for="topics">Topic</label>
                    <select class="form-control form-select js-choice" id="topics" size="1" name="topics" data-options='{"removeItemButton":true,"placeholder":true}'>
                    <option value="">Select Topic...</option>
                    <!-- <option>Massachusetts Institute of Technology</option>
                    <option>University of Chicago</option>
                    <option>GSAS Open Labs At Harvard</option>
                    <option>California Institute of Technology</option> -->
                    {% for x in weeknessTypes %}
                    
                    <option value="{{x.id}}">{{x.name}}</option>
                    {% endfor %}
                    </select>
                  </div>
                </div>
              </div>
  
              <div class="row g-3">
                <div class="col-12">
                  <div class="mb-3">
                    <!-- now make one for users -->

                    <label for="members">Members</label>
                    <select class="form-select js-choice" id="members" multiple="multiple" size="1" name="members" data-options='{"removeItemButton":true,"placeholder":true}'>
                    <option value="">Select Members...</option>
                    {% for x in users %}
                    <option value="{{x.id}}">{{x.username}}</option>
                    {% endfor %}
                    </select>
                  </div>
                </div>
              </div>

              <!-- make one for cves -->
                <div class="row g-3">
                    <div class="col-12">
                    <div class="mb-3">
                        <label for="cves">CVEs</label>
                        <select class="form-select js-choice" id="cves" multiple="multiple" size="1" name="cves" data-options='{"removeItemButton":true,"placeholder":true}'>
                        <option value="">Select CVEs...</option>
                        {% for x in cves %}
                        <option value="{{x.cve_id}}">{{x.cve_id}}</option>
                        {% endfor %}
                        </select>
                    </div>
                    </div>
                </div>
            
              <div class="row g-3">
                <div class="col-12">
                  <div class="mb-3">
                    <!-- Textarea for CVE description -->
                    <label class="form-label required" for="description">Description</label>
                    <textarea class="form-control" id="description" name="description" rows="3" placeholder="Enter Room Description" required></textarea>
                  </div>
                </div>
                
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-sm btn-falcon-default me-1" type="button" data-bs-dismiss="modal">Cancel</button>
            <button class="btn btn-sm btn-outline-hbl" type="submit">
                <span class="fas fa-plus-circle me-1"></span>
                Add Room
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  





{% endblock content %}