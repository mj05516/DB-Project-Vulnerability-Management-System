{% extends "main.html" %}
{% load static %}

<link rel="preconnect" href="https://fonts.gstatic.com">
<link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:300,400,500,600,700,800,900&amp;display=swap"
    rel="stylesheet">
<link href="{% static 'vendors/overlayscrollbars/OverlayScrollbars.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/theme.css' %}" rel="stylesheet" id="style-default">
<link href="{% static 'assets/css/user.css' %}" rel="stylesheet" id="user-style-default">
{% block content %}

<div class="card mb-3 rounded-3" style="height: 7rem; justify-content: center; background-color: #197056;">

    <div class="row flex-between-end mx-2">
        <div class="col-auto align-self-center">
            <h2 class="mb-0" style="color: white">Discussion Room Home</h2>
        </div>
        <!-- <div class="col-auto ms-auto">
            <button class="btn btn-primary" id="add-droom" type="button" data-bs-toggle="modal"
                data-bs-target="#add-discussion-room-modal">Create Discussion Room</button>
        </div> -->
    </div>
</div>


<div class="row g-3">
    {% for room in rooms %}
    
    <div class="col-4">
        <div class="card border border-success">
            <div class="card-header bg-light ps-card pe-5 border-bottom-0">
                <div>
                    <h5 class="modal-title mb-0">{{room.title}}</h5>
                    <p class="mb-0 fs--1 mt-1">
                        by @{{room.host}}
                    </p>
                </div>
            </div>
            <div class="card-body px-card pb-card pt-1 fs--1">

                <div class="d-flex mt-3">

                    <span class="fa-stack ms-n1 me-3">
                        <svg class="svg-inline--fa fa-circle fa-w-16 fa-stack-2x text-200" aria-hidden="true"
                            focusable="false" data-prefix="fas" data-icon="circle" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
                            <path fill="currentColor"
                                d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z">
                            </path>
                        </svg><!-- <i class="fas fa-circle fa-stack-2x text-200"></i> Font Awesome fontawesome.com -->
                        <svg class="svg-inline--fa fa-align-left fa-w-14 fa-stack-1x text-primary"
                            data-fa-transform="undefined" aria-hidden="true" focusable="false" data-prefix="fas"
                            data-icon="align-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
                            data-fa-i2svg="">
                            <path fill="currentColor"
                                d="M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z">
                            </path>
                        </svg>
                        <!-- <i class="fas fa-align-left fa-stack-1x text-primary" data-fa-transform="undefined"></i> Font Awesome fontawesome.com -->
                    </span>

                    <div class="flex-1">
                        <h6>Description</h6>
                        <p class="mb-0">

                            {{room.description|truncatechars:30}}
                        </p>
                    </div>
                </div>

                <div class="d-flex mt-3">

                    <span class="fa-stack ms-n1 me-3">
                        <svg class="svg-inline--fa fa-circle fa-w-16 fa-stack-2x text-200" aria-hidden="true"
                            focusable="false" data-prefix="fas" data-icon="circle" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
                            <path fill="currentColor"
                                d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z">
                            </path>
                        </svg><!-- <i class="fas fa-circle fa-stack-2x text-200"></i> Font Awesome fontawesome.com -->
                        <svg class="svg-inline--fa fa-calendar-check fa-w-14 fa-stack-1x text-primary"
                            data-fa-transform="undefined" aria-hidden="true" focusable="false" data-prefix="fas"
                            data-icon="calendar-check" role="img" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 448 512" data-fa-i2svg="">
                            <path fill="currentColor"
                                d="M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z">
                            </path>
                        </svg>
                        <!-- <i class="fas fa-calendar-check fa-stack-1x text-primary" data-fa-transform="undefined"></i> Font Awesome fontawesome.com -->
                    </span>

                    <div class="flex-1">
                        <h6>Date and Time</h6>
                        <p class="mb-1">
                            {{room.created_at}}
                        </p>
                    </div>
                </div>

                <!-- <div class="d-flex mt-3">

            <span class="fa-stack ms-n1 me-3">
                <svg class="svg-inline--fa fa-circle fa-w-16 fa-stack-2x text-200" aria-hidden="true" focusable="false"
                    data-prefix="fas" data-icon="circle" role="img" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512" data-fa-i2svg="">
                    <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z">
                    </path>
                </svg>
                <svg class="svg-inline--fa fa-map-marker-alt fa-w-12 fa-stack-1x text-primary"
                    data-fa-transform="undefined" aria-hidden="true" focusable="false" data-prefix="fas"
                    data-icon="map-marker-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                    data-fa-i2svg="">
                    <path fill="currentColor"
                        d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z">
                    </path>
                </svg>
                
            </span>

            <div class="flex-1">
                <h6>Location</h6>
                <p class="mb-0">Boston Harborwalk, Christopher Columbus Park, <br> Boston, MA 02109, United States</p>
            </div>
        </div> -->


            </div>

            <div class="card-footer d-flex justify-content-end bg-light px-card border-top-0">
                <a href="/d-room-new/{{room.id}}" class="ms-1 btn btn-falcon-primary btn-sm">
                    Go To Room
                    <svg class="svg-inline--fa fa-angle-right fa-w-8 fs--2 ml-1" aria-hidden="true" focusable="false"
                        data-prefix="fas" data-icon="angle-right" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 256 512" data-fa-i2svg="">
                        <path fill="currentColor"
                            d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z">
                        </path>
                    </svg><!-- <span class="fas fa-angle-right fs--2 ml-1"></span> Font Awesome fontawesome.com -->
                </a>
            </div>
        </div>
    </div>
    
    {% endfor %}
</div>


<script>
    // var choices = new Choices('#cves', {
    //     removeItemButton: true,
    //     placeholder: true,
    //     placeholderValue: 'Select CVEs...',
    //     searchEnabled: true,
    //     searchChoices: true,
    // });

    // choices.setChoices(async () => {
    //     try {
    //         const items = await fetch("{% url 'fetch_cves' %}")
    //         return items.json();
    //     } catch (err) {
    //         console.error(err);
    //     }
    // });


    // var cves = [];
    // $(document).ready(function () {
    //     $.ajax({
    //         url: "{% url 'fetch_cves' %}",
    //         type: "POST",
    //         data: {
    //             csrfmiddlewaretoken: '{{ csrf_token }}',
    //         },
    //         success: function (data) {
    //             console.log(data);
    //             cves = data['cves'];
    //             choices.clearStore();
    //             for (var i = 0; i < 100; i++) {
    //                 choices.setChoices([{
    //                     value: cves[i].cve_id,
    //                     label: cves[i].cve_id,
    //                     selected: false,
    //                 }], 'value', 'label', false);
    //             }
    //         }
    //     });
    // });

    // make a choices object


    // $(document).on('click', '#add-droom', function () {
    //     console.log('clicked');
    //     choices.setChoices(cves, 'value', 'label', true);
    // });

    // $('#add-droom').click(function () {
    //     console.log('clicked');
    //     choices.clearStore();
    //     for (var i = 0; i < 100; i++) {
    //         choices.setChoices([{
    //             value: cves[i].cve_id,
    //             label: cves[i].cve_id,
    //             selected: false,
    //         }], 'value', 'label', false);
    //     }
    // });
</script>






{% endblock content %}